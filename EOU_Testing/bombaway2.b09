PROCEDURE Bombaway2DIM NAM$,ANG$,VELOCITY:STRING[10]DIM X,XO,OX,Y,YO,W,S,N,V,V1,V2,D2:REALDIM I,A,N1,KK,temp:INTEGERDIM HILL(140):REALDIM HORIZON,HCOR:INTEGERDIM SHOTX,SHOTY:INTEGERDIM SCORE(3):INTEGERDIM P$(3):STRING[20]DIM L(12):REALDIM VNG(12):INTEGERDIM ABG(12):INTEGERBASE 0180 V=RND(-(VAL(RIGHT$(DATE$,2))))NAM$=""FOR I=0 TO 139HILL(I)=0NEXT IFOR I=0 TO 2SCORE(I)=0P$(I)=""NEXT IFOR I=0 TO 11VNG(I)=0ABG(I)=0NEXT IGOTO 1320190 RUN GFX2("curoff")FOR I=1 TO 254 STEP 2KK=FIX(HILL(INT(I/2)))RUN GFX2("line",I,KK,I,0)NEXT I200 RETURN 240 N1=2RUN GFX2("curoff")RUN GFX2("clear")260 X1=20+RND(30)HCOR=80+RND(40)L(1)=10+RND(X1-10)L(2)=HCOR+RND(120-HCOR)270 N=158-RND(58)FOR I=0 TO X1HILL(I)=NNEXT IN=1GOSUB 1190280 N=158-RND(58)FOR I=HCOR TO 139HILL(I)=NNEXT IN=2GOSUB 1190300 HORIZON=X1+RND(HCOR-X1-20)+10HILL(HORIZON)=50+RND(100)N=HILL(HORIZON)/2D1=N-HILL(1)/2D2=N-HILL(139)/2390 A=180R=180/(HORIZON-X1+1)N=HILL(1)+D1400 FOR I=INT(X1+1) TO INT(HORIZON-1)A=A-RHILL(I)=COS(A*.0174533)*D1+NNEXT I410 A=0R=180/(HCOR-HORIZON+1)N=HILL(139)+D2420 FOR I=INT(HORIZON+1) TO INT(HCOR-1)A=A+RHILL(I)=COS(A*.0174533)*D2+NNEXT I430 GOSUB 190470 W=RND(100)-50GOSUB 1230N=N1490 N=3-NS=5*N-4530 RUN GFX2("curxy",34,2)RUN GFX2("curon")PRINT "Last shots: "; RUN GFX2("curxy",34,3)FOR I=0 TO 3PRINT USING "I4"; ABG(S+4-I); NEXT I540 PRINT CHR$(4); RUN GFX2("curxy",34,4)FOR I=0 TO 3PRINT USING "I4"; VNG(S+4-I); NEXT IRUN GFX2("curxy",34,5)550 PRINT "Side firing: "; 560 IF N=1 THEN PRINT "Left to right"ELSE PRINT "Right to left"ENDIF RUN GFX2("curxy",34,6)570 PRINT "Wind factor "; 580 IF W<=0 THEN PRINT FIX(W+W*-2); " to the west."ELSE PRINT FIX(W); " to the east."ENDIF 590 ANG$=""VELOCITY=""RUN GFX2("curxy",1,22)PRINT CHR$(4); P$(N); 600 INPUT " call your shot: ",NAM$RUN GFX2("curoff")IF LEFT$(NAM$,1)="q" OR LEFT$(NAM$,1)="Q" THEN 1580610 FOR I=1 TO LEN(NAM$)IF MID$(NAM$,I,1)=" " THENtemp=I+1I=LEN(NAM$)GOTO 630ENDIF620 ANG$=ANG$+MID$(NAM$,I,1)630 NEXT I640 FOR I=temp TO LEN(NAM$) IF MID$(NAM$,I,1)>="0" AND MID$(NAM$,I,1)<="9" THENVELOCITY=VELOCITY+MID$(NAM$,I,1)ENDIFNEXT IVELOCITY=VELOCITY+".0"IF VAL(VELOCITY)=0 THEN 530650 ANG=VAL(ANG$)V=VAL(VELOCITY)GOTO 790740 RUN GFX2("curoff")RUN GFX2("curxy",34,8)PRINT "Your base blew apart from the force"RUN GFX2("curxy",34,9)PRINT "of the recoil "; P$(N); "."GOSUB 1720780 GOTO 1120790 REM GOSUB 1220830 IF INT(N)=2 THEN ANG=180-ANGENDIF 840 V1=COS(ANG*.0174533)*VV2=-(SIN(ANG*.0174533))*V850 MN=L(N)X=L(N)*2Y=HILL(MN)860 IF N=1 THEN X=X+1ELSE X=X-6ENDIF 870 IF N=2 THEN X=X-7*-1ELSE X=X-7*0ENDIF 880 SHOTX=INT(X)SHOTY=INT(Y)IF V>349 THEN 740RUN GFX2("point",SHOTX,SHOTY)OX=0890 XO=XYO=Y900 X=X+V1/10V1=V1+(W-V1)/30IF X<0 OR X>254 THEN 490910 Y=Y+V2/10V2=V2+6920 IF Y<0 THEN 960930 IF OX<>0 THEN SHOTX=INT(OX)RUN GFX2("POINT",SHOTX,0)YO=1XO=OXOX=0ENDIF 950 RUN GFX2("line",FIX(XO),FIX(YO),FIX(X),FIX(Y))XO=XYO=YGOTO 970960 OX=X970 IF HILL(X/2)-Y>2 THEN 900980 Y=HILL(X/2)+2990 SHOTX=INT(X)SHOTY=INT(Y)RUN GFX2("POINT",SHOTX,SHOTY)1000 IF ABS(X/2-L(3-N))<3 THEN 10801010 IF ABS(X/2-L(N))>3 THEN 10701020 RUN GFX2("curxy",34,9)PRINT "You destroyed yourself "; P$(N); "."GOSUB 17201030 GOTO 11201070 SHOTX=INT(X)SHOTY=INT(Y)RUN GFX2("circle",SHOTX,SHOTY,2)RUN GFX2("circle",SHOTX,SHOTY,1)GOTO 4901080 GOSUB 17201090 WIN=N1110 N=3-N1120 SCORE(3-N)=SCORE(3-N)+1IF SCORE(3-N)+SCORE(N)=GN THEN 1580RUN GFX2("curon")RUN GFX2("curxy",1,22)PRINT CHR$(4); INPUT "Press ENTER for next battle. ",NAM$RUN GFX2("curoff")RUN GFX2("clear")1130 FOR I=1 TO 10ABG(I)=0VNG(I)=0NEXT IN1=3-N1GOTO 2601190 X=L(N)*2 \Y=HILL(L(N))-1FOR I=-2 TO 3RUN GFX2("line",FIX(X+I),FIX(Y+1),FIX(X+I),FIX(Y-2))RUN GFX2("line",FIX(X+1),FIX(Y+1),FIX(X+I),FIX(Y-2))NEXT I1200 RUN GFX2("line",FIX(X-4),FIX(Y-4),FIX(X-4),FIX(Y-2))RUN GFX2("line",FIX(X-3),FIX(Y-4),FIX(X-3),FIX(Y-2))RUN GFX2("line",FIX(X),FIX(Y-4),FIX(X),FIX(Y-2))RUN GFX2("line",FIX(X+1),FIX(Y-4),FIX(X+1),FIX(Y-2))1210 RUN GFX2("line",FIX(X+4),FIX(Y-4),FIX(X+4),FIX(Y-2))RUN GFX2("line",FIX(X+5),FIX(Y-4),FIX(X+5),FIX(Y-2))RETURN 1220 NN=5*NFOR J=1 TO 4K=NN-5+JABG(K)=ABG(K+1)VNG(K)=VNG(K+1)NEXT JVNG(NN)=VABG(NN)=ANGRETURN 1230 RUN GFX2("line",FIX(142-W),150,FIX(143+W),150)1240 SS=-(SGN(W))1250 FOR I=1 TO 5Y=150-IX=140+W+SS*I1260 RUN GFX2("line",FIX(X),FIX(Y),FIX(X+1),FIX(Y))1270 Y=150+IRUN GFX2("line",FIX(X),FIX(Y),FIX(X+1),FIX(Y))NEXT I1280 RETURN 1320 RUN GFX2("clear")1330 RUN GFX2("curon")PRINT TAB(10); "** BOMBS AWAY **"PRINTPRINT TAB(7); "By Allen Drennan 1986"PRINT TAB(6); "OS9 by Edits Jim Gerrie"PRINT PRINT "Game rules are simple:"PRINT PRINT "Blow up your opponent by firing"PRINT "at the right angle and velocity"PRINT "while compensating for wind and"PRINT "terrain.  Each gunner must"PRINT "enter the angle (0-90) and the"PRINT "velocity (max. 350) separated"PRINT "by a space.  Enter 'Q' to quit."PRINT 1460 PRINT "Players' names:"1470 FOR I=1 TO 21480 PRINT "Player "; I; INPUT ", ",P$(I)1490 NEXT I1510 INPUT "How many battles to play? ",GN1520 IF GN<1 OR GN>100 THEN PRINT "Please, don't joke around!"GOTO 1510ENDIF 1530 GOTO 2401580 RUN GFX2("curxy",34,11)1620 PRINT "THE SCORE:  "; P$(1); PRINT "="; SCORE(1)RUN GFX2("curxy",46,12)PRINT P$(2); PRINT "="; SCORE(2)1630 IF SCORE(1)>SCORE(2) THEN WI=1ENDIF 1640 IF SCORE(1)<SCORE(2) THEN WI=2ENDIF RUN GFX2("curxy",34,13)1650 IF SCORE(1)=SCORE(2) THEN 16801660 PRINT P$(WI); " is the winner!"1670 GOTO 17001680 REM 1690 PRINT "A tie!"1700 RUN GFX2("curon")RUN GFX2("curxy",34,15)INPUT "Play again (y/n)? ",NAM$IF NAM$="" THEN 1700NAM$=LEFT$(NAM$,1)IF NAM$="y" OR NAM$="Y" THEN 1801710 END 1720 FOR KK=1 TO 151730 SHOTX=INT(X) \SHOTY=INT(Y) \RUN GFX2("circle",SHOTX,SHOTY,KK )1740 NEXT KK1760 RETURN 